<header class="hdr">
  <div class="hdr-inner">
    <div class="brand">SpaceX Viewer</div>

    <nav class="nav">
      <a
        routerLink="/"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
      >{{ i18n.translate('nav.home') }}</a
      >
      <a routerLink="/about" routerLinkActive="active">{{ i18n.translate('nav.about') }}</a>
      <a routerLink="/items" routerLinkActive="active">{{ i18n.translate('nav.launches') }}</a>
      <a routerLink="/favorites" routerLinkActive="active">{{ i18n.translate('nav.favorites') }}</a>

      <span class="spacer"></span>
      <app-language-selector></app-language-selector>

      <ng-container *ngIf="user$ | async as user; else loggedOut">
        <div class="user-profile-header">
          <ng-container *ngIf="profile$ | async as profile">
            <a routerLink="/profile" routerLinkActive="active" class="profile-link">
              <div class="profile-avatar" *ngIf="profile?.photoData; else avatarPlaceholder">
                <img [src]="profile.photoData" alt="Profile" class="avatar-img-small" />
              </div>
              <ng-template #avatarPlaceholder>
                <div class="profile-avatar placeholder">
                  {{ user.email?.charAt(0) | uppercase }}
                </div>
              </ng-template>
              <span class="profile-text">{{ i18n.translate('nav.profile') }}</span>
            </a>
          </ng-container>
        </div>
      </ng-container>

      <ng-template #loggedOut>
        <a routerLink="/login" routerLinkActive="active">{{ i18n.translate('nav.login') }}</a>
        <a routerLink="/signup" routerLinkActive="active">{{ i18n.translate('nav.signup') }}</a>
      </ng-template>
    </nav>
  </div>
</header>

@if (isOffline) {
  <div class="offline-banner">
    <span class="offline-icon">ğŸ“¡</span>
    <span class="offline-text">{{ i18n.translate('offline.banner.text') }}</span>
    <a routerLink="/offline" class="offline-link">{{ i18n.translate('offline.banner.link') }}</a>
  </div>
}

<main>
  <router-outlet></router-outlet>
</main>
